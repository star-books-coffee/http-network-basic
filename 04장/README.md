# 4장. 결과를 전달하는 HTTP 상태 코드

## 4.1 상태 코드는 서버로부터 리퀘스트 결과를 전달한다.
- 상태 코드의 예를 들면 `200 OK`와 같이 3자리 숫자와 설명으로 나타낸다.
- 숫자의 첫 번째 자리는 리스폰스 클래스고, 나머지 2자리는 분류가 없음.
- 이 리스폰스 클래스는 다음과 같이 5개가 정의되어 있음.
  |     | 클래스 | 설명           |
  | --- | --- | -------------- | 
  | 1xx | Informational | 리퀘스트를 받아들여 처리 중 |
  | 2xx | Success | 리퀘스트를 정상적으로 처리했음 |
  | 3xx | Redirection | 리퀘스트를 완료하기 위해서 추가 동작이 필요 |
  | 4xx | Client Error | 서버는 리퀘스트 이해 불가능 |
  | 5xx | Server Error | 서버는 리퀘스트 처리 실패 |

- 클래스의 정의만 지킨다면 RFC2616에서 정의된 상태 코드를 변경하거나 서버 독자의 상태 코드를 만들어도 상관 없음.
- HTTP 상태 코드는 RFC2616에 실려있는 것만도 40종류, 확장을 포함하면 60종류 이상이 있지만 실제로 자주 사용되는 것은 14 종류 정도
- 대표적인 14개의 상태 코드를 알아보자.

## 4.2 2XX 성공(Success)
리퀘스트가 정상적으로 처리되었음을 나타낸다.
### 4.2.1 200 OK
- 리소스에서 상태 코드와 함께 되돌아오는 정보는 메서드에 따라 다르다.
### 4.2.2 204 No Content
> 리퀘스트가 성공했어요~ 하지만 돌려줄 리소스가 없네요!
- 서버가 리퀘스트를 받아서 처리하는 데는 성공했지만 리스폰스에 엔티티 바디를 포함하지 않는다.
### 4.2.3 206 Partial Content
- Range에 의해서 범위가 지정된 리퀘스트에 의해서 서버가 부분적 GET 리퀘스트를 받았음을 나타낸다.
- 리스폰스에는 Content-Range로 지정된 범위의 엔티티가 포함됨.

## 4.3 3XX 리다이렉트(Redirection)
리퀘스트가 정상적으로 처리를 종료하기 위해 브라우저 측에서 특별한 처리를 수행해야 함을 나타낸다.

### 4.3.1 301 Move Permanently
- 리퀘스트된 리소스에는 새로운 URI가 부여되어 있기 떄문에 이후로는 그 리소스를 참조하는 URI를 사용해야 한다는 것을 나타내고 있음.
- 결국 북마크하고 있는 경우에는 Location 헤더 필드에서 가리키고 있는 URI에 북마크를 다시 하는 게 좋다는 것을 나타냄.
- - ex. 디렉토리를 지정했을 떄 마지막 부분에 슬래시(/)를 붙이는 것을 잊은 경우 등
    ```
    http://example.com/sample
    ```

> 예를 들어 웹사이트의 도메인을 변경했거나 새로운 URL 구조로 개편했을 때 사용
### 4.3.2 302 Found
> URI는 잠시 다른 장소에 가 있어. 우선 전달했어~

- 리퀘스트된 리소스에는 새로운 URI가 할당되어 있기 때문에 그 URI를 참조해주길 바란다는 의미
- 301과 비슷하지만 302의 경우에는 영구적인 이동이 아닌, 어디까지나 **일시적인** 것
- 결국, 이동하는 곳의 URI는 앞으로 이동될 가능성이 있음.
- 
> 예를 들어 페이지에 부적절한 콘텐츠가 있음을 알게 될 때 문제를 해결하는 동안 사용자를 관심있는 다른 페이지로 리디렉션 할 수 있다.
