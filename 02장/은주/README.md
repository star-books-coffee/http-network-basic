# 제 2장. 간단한 프로토콜 HTTP
## 2.1. HTTP 는 클라이언트와 서버 간에 통신을 한다
- 텍스트, 이미지 같은 리소스를 필요하다고 요구하는 쪽이 클라이언트, 이러한 리소스를 제공하는 쪽이 서버이다
- HTTP 는 서버와 클라이언트의 역할을 명확히 구별하고 있다

## 2.2. 리퀘스트와 리스폰스를 교환하여 성립
```http
POST /lines/1 HTTP/1.1
Host: localhost:64521
Connection: keep-alive
Content-Type: ...
Content-Length: 16
```
- POST: `HTTP 메서드`로 어떤 동작을 요청하는지 식별한다.
- /lines/1 : URI로 서버에 요청하는 리소스를 나타낸다. (`Request URI`)
- HTTP/1.1 : 클라이언트 기능을 식별하기 위한 `HTTP 버전 번호`
- 나머지 부분 : 리퀘스트 헤더 필드
- 리퀘스트 메시지 = 메소드 + URI + 프로토콜 버전 + 옵션 리퀘스트 헤더 필드 + 엔티티
  - 엔티티 : ex) name=eunju&age=37

## 2.3. HTTP는 상태를 유지하지 않는 프로토콜
- HTTP 는 stateless 프로토콜. 즉, 이전에 보낸 request 나 이미 되돌려준 response 에 대해서는 전혀 기억하지 않는다
- HTTP 는 새로운 request 가 보내질 때마다 새로운 response 가 생성된다
- 이는 많은 데이터를 빠르고 확실하게 처리하는 `범위성` 을 확보하기 위해 **간단히 설계** 되어 있는 것이다
- 하지만 웹이 진화함에 따라 상태를 유지해야 할 경우들이 생겼다
  - ex) 쇼핑몰 로그인해서 다른 페이지로 이동해도 로그인 상태가 유지되어야 함
- HTTP/1.1 은 상태를 유지하지 않는 프로토콜이므로, 상태를 계속 유지하고픈 욕구에 부응하려고 `쿠키` 라는 기술이 도입되었다
  - **쿠키로 인해 HTTP 를 이용한 통신에서도 상태를 계속 관리할 수 있게 되었다**

## 2.4. 리퀘스트 URI 로 리소스를 식별
- HTTP는 URI 를 사용하여 인터넷 상의 리소스를 지정한다
```http
GET /lines/1 HTTP/1.1 
-> 모든 URI 를 리퀘스트 URI 에 포함한다

Host: localhost:64521
-> Host 헤더 필드에 네트워크 로케이션을 포함한다
```
- 이 외에 특정 리소스가 아닌 서버 자신에게 request 송신하는 경우에는 request URI 에 * 를 지정할 수 있다

## 2.5. 서버에 임무를 부여하는 HTTP 메소드
- GET : 리소스 획득
  - request URI 로 식별된 리소르를 가져올 수 있도록 요구한다
  - 가져올 리소스 내용은 **지정된 리소스를 서버가 해석한 결과** 이다
- POST : 엔티티 전송
- PUT : 파일 전송
  - 리퀘스트 중에 포함된 엔티티를 리퀘스트 URI 로 지정한 곳에 보존하도록 요구한다
  - HTTP/1.1 PUT 자체에는 인증 기능이 없어 보안상의 문제가 있어, 일반적인 웹사이트에서는 사용되지 않는다